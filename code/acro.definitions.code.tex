\AcroModule{definitions}{definitions of user commands}

% --------------------------------------------------------------------------
% commands for typesetting acronyms:
\NewAcroCommand \ac {m}
  { \UseAcroTemplate {first} {#1} }
\NewAcroCommand \acp {m}
  { \acroplural \UseAcroTemplate {first} {#1} }
\NewAcroCommand \iac {m}
  { \acroindefinite \UseAcroTemplate {first} {#1} }
\NewAcroCommand \Ac {m}
  { \acroupper \UseAcroTemplate {first} {#1} }
\NewAcroCommand \Acp {m}
  { \acroplural \acroupper \UseAcroTemplate {first} {#1} }
\NewAcroCommand \Iac {m}
  { \acroupper \acroindefinite \UseAcroTemplate {first} {#1} }

\NewAcroCommand \acs {m}
  { \UseAcroTemplate {short} {#1} }
\NewAcroCommand \acsp {m}
  { \acroplural \UseAcroTemplate {short} {#1} }
\NewAcroCommand \iacs {m}
  { \acroindefinite \UseAcroTemplate {short} {#1} }
\NewAcroCommand \Acs {m}
  { \acroupper \UseAcroTemplate {short} {#1} }
\NewAcroCommand \Acsp {m}
  { \acroplural \acroupper \UseAcroTemplate {short} {#1} }
\NewAcroCommand \Iacs {m}
  { \acroupper \acroindefinite \UseAcroTemplate {short} {#1} }
  
\NewAcroCommand \acl {m}
  { \UseAcroTemplate {long} {#1} }
\NewAcroCommand \aclp {m}
  { \acroplural \UseAcroTemplate {long} {#1} }
\NewAcroCommand \iacl {m}
  { \acroindefinite \UseAcroTemplate {long} {#1} }
\NewAcroCommand \Acl {m}
  { \acroupper \UseAcroTemplate {long} {#1} }
\NewAcroCommand \Aclp {m}
  { \acroplural \acroupper \UseAcroTemplate {long} {#1} }
\NewAcroCommand \Iacl {m}
  { \acroupper \acroindefinite \UseAcroTemplate {long} {#1} }

\NewAcroCommand \aca {m}
  { \UseAcroTemplate {alt} {#1} }
\NewAcroCommand \acap {m}
  { \acroplural \UseAcroTemplate {alt} {#1} }
\NewAcroCommand \iaca {m}
  { \acroindefinite \UseAcroTemplate {alt} {#1} }
\NewAcroCommand \Aca {m}
  { \acroupper \UseAcroTemplate {alt} {#1} }
\NewAcroCommand \Acap {m}
  { \acroplural \acroupper \UseAcroTemplate {alt} {#1} }
\NewAcroCommand \Iaca {m}
  { \acroupper \acroindefinite \UseAcroTemplate {alt} {#1} }

\NewAcroCommand \acf {m}
  { \acrofull \UseAcroTemplate {first} {#1} }
\NewAcroCommand \acfp {m}
  { \acrofull \acroplural \UseAcroTemplate {first} {#1} }
\NewAcroCommand \iacf {m}
  { \acrofull \acroindefinite \UseAcroTemplate {first} {#1} }
\NewAcroCommand \Acf {m}
  { \acrofull \acroupper \UseAcroTemplate {first} {#1} }
\NewAcroCommand \Acfp {m}
  { \acrofull \acroplural \acroupper \UseAcroTemplate {first} {#1} }
\NewAcroCommand \Iacf {m}
  { \acrofull \acroupper \acroindefinite \UseAcroTemplate {first} {#1} }

\NewAcroCommand \acshow {m}
  { \UseAcroTemplate {show} {#1} }

% --------------------------------------------------------------------------
\DeclareAcroEnding {plural} {s} {s}
  
% --------------------------------------------------------------------------
% acronym templates:
\NewAcroTemplate {long-short}
  {
    \acroiffirstTF
      {
        \acrowrite {long}
        \acspace
          (
            \acroifT {foreign} { \acrowrite {foreign} ,~ }
            \acrowrite {short}
            \acroifT {alt} { ~ \acrotranslate {or} ~ \acrowrite {alt} }
            \acrogroupcite
          )
      }
      { \acrowrite {short} }
  }

\NewAcroTemplate {short-long}
  {
    \acrowrite {short}
    \acroiffirstT
      {
        \space
          (
            \acroifT {alt} { \acrotranslate {or} ~ \acrowrite {alt} ~ }
            \acroifT {foreign} { \acrowrite {foreign} :~ }
            \acrowrite {long}
            \acrogroupcite
          )
      }
  }

\NewAcroTemplate {footnote}
  {
    \acrowrite {short}
    \acroiffirstT
      {
        \footnote
          {
            \acroifT {alt} { \acrotranslate {or} ~ \acrowrite {alt} :~ }
            \acroifT {foreign} { \acrowrite {foreign} ,~ }
            \acrowrite {long}
            \acrogroupcite
          }
      }
  }

\NewAcroTemplate {long}
  { \acrowrite {long} }

\NewAcroTemplate {short}
  { \acrowrite {short} }

\NewAcroTemplate {alt}
  {
    \acroifTF {alt}
      { \acrowrite {alt} }
      { \acrowrite {short} }
  }

\NewAcroTemplate {show}
  {
    \acrousefalse
    \iow_term:n {}
    \iow_term:x
      {
        The~ acronym~ `\AcronymID'~ has~ the~ properties~ (without~ outer~
        braces):
      }
    \iow_term:n {}
    \AcroPropertiesMap { \acroshow {##1} }
    \iow_term:n {}
  }

% --------------------------------------------------------------------------
% heading templates:
\NewAcroTemplate[heading] {none} { }

\NewAcroTemplate[heading] {section}
  { \section { \acrolistname } }

\NewAcroTemplate[heading] {section*}
  { \section* { \acrolistname } }

\acro_if_komascript:T
  {
    \NewAcroTemplate[heading] {addsec}
      { \addsec { \acrolistname } }
  }
  
\cs_if_exist:NT \chapter
  {
    \NewAcroTemplate[heading] {chapter}
      { \chapter { \acrolistname } }
    \NewAcroTemplate[heading] {chapter*}
      { \chapter* { \acrolistname } }
    \acro_if_komascript:T
      {
        \NewAcroTemplate[heading] {addchap}
        { \addchap { \acrolistname } }
      }
  }

% --------------------------------------------------------------------------
% list templates:
\NewAcroTemplate[list] {description}
  {
    \acroheading
    \acropreamble
    \begin {description}
      \acronymsmapF
        {
          \item [ \acrowrite {short} \acroifT {alt} { / \acrowrite {alt} } ]
            \acrowrite {list}
            \acroifanyT {foreign,extra} {~(}
            \acroifT {foreign}
              {
                \acrowrite {foreign}
                \acroifT {extra} {,~}
              }
            \acroifT {extra}
              { \acrowrite {extra} }
            \acroifanyT {foreign,extra} {)}
            \acroifpagesT
              {
                \acropagefill
                \acropages
                  { \acrotranslate {page} \nobreakspace }
                  { \acrotranslate {pages} \nobreakspace }
              }
        }
        { \item \AcroRerun {list} }
    \end {description}
  }

\NewAcroTemplate[list] {tabular}
  {
    \def \TableCode {}
    \acronymsmap
      {
        \AcroPutRight \TableCode
          {
            \def \AcronymID {##1}
            \acrowrite {short}
            \acroifT {alt} { / \acrowrite {alt} }
            &
            \def \AcronymID {##1}
            \acrowrite {list}
            \acroifanyT {foreign,extra} {~(}
            \acroifT {foreign}
              {
                \acrowrite {foreign}
                \acroifT {extra} {,~}
              }
            \acroifT {extra}
              { \acrowrite {extra} }
            \acroifanyT {foreign,extra} {)}
            \acroifpagesT
              {
                \acropagefill
                \acropages
                  { \acrotranslate {page} \nobreakspace }
                  { \acrotranslate {pages} \nobreakspace }
              }
            \tabularnewline
          }
      }
    \acroheading
    \acropreamble
    \par \noindent
    \begin {tabular} {>{\bfseries}lp{\dimexpr\linewidth-3cm\relax}}
      \TableCode
    \end {tabular}
  }

% --------------------------------------------------------------------------
% translations:
% list name
\DeclareAcroTranslation {list-name}
  {
    Fallback   = Acronyms ,
    English    = Acronyms ,
    French     = Acronymes ,
    German     = Abk\"urzungen ,
    Italian    = Acronimi ,
    Portuguese = Acr\'onimos ,
    Spanish    = Siglas ,
    Catalan    = Sigles ,
    Turkish    = K\i saltmalar
  }

% page name
\DeclareAcroTranslation {page}
  {
    Fallback   = p. ,
    English    = p. ,
    French     = p. ,
    German     = S. ,
    Portuguese = p.
  }

% pages name
\DeclareAcroTranslation {pages}
  {
    Fallback   = pp. ,
    English    = pp. ,
    French     = pp. ,
    German     = S. ,
    Portuguese = pp.
  }

% following page
\DeclareAcroTranslation {sequens}
  {
    Fallback   = f. ,
    English    = f. ,
    French     = sq. ,
    German     = f. ,
    Portuguese = s.
  }

% following pages
\DeclareAcroTranslation {sequentes}
  {
    Fallback   = ff. ,
    English    = ff. ,
    French     = sqq. ,
    German     = ff. ,
    Portuguese = ss.
  }

% also
\DeclareAcroTranslation {also}
  {
    Fallback   = also ,
    English    = also ,
    French     = aussi ,
    German     = auch ,
    Italian    = anche ,
    Portuguese = tamb\'{e}m ,
    Spanish    = tambien ,
    Catalan    = tamb\'{e} ,
    Turkish    = ayr\i ca
  }

% or
\DeclareAcroTranslation {or}
  {
    Fallback   = or ,
    English    = or ,
    French     = ou ,
    German     = oder ,
    Italian    = o ,
    Portuguese = ou ,
    Spanish    = o ,
    Catalan    = o ,
    Turkish    = veya
  }

% and
\DeclareAcroTranslation {and}
  {
    Fallback   = and ,
    English    = and ,
    French     = et ,
    German     = und ,
    Italian    = e ,
    Portuguese = e ,
    Spanish    = y ,
    Catalan    = i ,
    Turkish    = ve
  }

% --------------------------------------------------------------------------  
\AcroModuleEnd
